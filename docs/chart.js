!function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=7)}([function(t,e){var i=null,n={};t.exports={textMetrics:function(t,e){if(n.hasOwnProperty(t.font)&&n[t.font].hasOwnProperty(e))return n[t.font][e];n.hasOwnProperty(t.font)||(n[t.font]={});var o,a=t.measureText(e),h=a.width;void 0===a.fontBoundingBoxAscent?(!i&&(i=document.createElement("div")),i.style.cssText="position:fixed;font:"+t.font+";padding:0;margin:0;left:-9999px;top:-9999px",i.innerHTML=e,document.body.appendChild(i),o=parseInt(getComputedStyle(i).getPropertyValue("height"),10),i.innerHTML=""):o=a.fontBoundingBoxAscent+a.fontBoundingBoxDescent;var s={width:h,height:o};return n[t.font][e]=s,s},drawBorder:function(t,e,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"#FF0000";t.lineWidth=2,t.strokeStyle=n,t.strokeRect(0,0,e,i)},clipArea:function(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom),t.clip(),t.translate(e.left,e.top)},resetClip:function(t){t.restore()},fillFullArea:function(t,e,i,n){t.fillStyle=e,t.fillRect(0,0,i,n)},getMousePos:function(t,e,i){i=i||{left:0,top:0};var n=t.getBoundingClientRect(),o=e.touches&&0<e.touches.length?e.touches[0].clientX:e.clientX,a=e.touches&&0<e.touches.length?e.touches[0].clientY:e.clientY;return{x:o-i.left-n.left,y:a-i.top-n.top}},roundRect:function(t,e,i,n,o,a,h){n<2*a&&(a=n/2),o<2*a&&(a=o/2),t.beginPath(),t.moveTo(e+a,i),t.arcTo(e+n,i,e+n,i+o,a),t.arcTo(e+n,i+o,e,i+o,a),t.arcTo(e,i+o,e,i,a),t.arcTo(e,i,e+n,i,a),t.closePath(),h&&t.fill(),t.stroke()},hoverPoint:function(t,e,i,n,o){t.lineWidth=o,t.beginPath(),t.arc(e,i,n,0,2*Math.PI,!1),t.closePath(),t.fill(),t.stroke()},disableShadow:function(t){t.shadowColor="rgba(0, 0, 0, 0)",t.shadowBlur=0}}},function(t,e){var i=Object.freeze({TOP:Symbol("top"),MIDDLE:Symbol("middle"),BOTTOM:Symbol("bottom")});t.exports={ZonesPosition:i,chartZone:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"unkn",i=1<arguments.length?arguments[1]:void 0,n=2<arguments.length?arguments[2]:void 0;if(!i)throw new Error("Zone ".concat(e," without render method!"));var o=this;this.name=e,this.isDirty=!0,this._render=i,this.width=0,this.canChangeWidth=!0,this.height=0,this.canChangeHeight=!0,this.draw=function(){return t._render.call(o)},this.setSize=function(e){t.canChangeWidth&&(t.width=e.width),t.canChangeHeight&&(t.height=e.height),(null==t._lastSize||t._lastSize.w!=t.width||t._lastSize.h!=t.height)&&(t._lastSize={w:t.width,h:t.height},t._prepare&&t._prepare())},this.merge=function(t){for(var e=Object.keys(t),i=0;i<e.length;i++)o[e[i]]=t[e[i]]},this.setGlobalZonePos=function(e){t.rectZone=e},n&&this.merge(n)}}},function(t,e){var i=Object.freeze({MouseMove:Symbol("mouseMove"),MousePress:Symbol("mousePress"),MouseUp:Symbol("mouseUp")});t.exports={eventsFactory:function(){return{_events:[],on:function(t,e){return this._events[t]||(this._events[t]=[]),this._events[t].push(e),this._events[t].filter(function(t){return t!=e})},fire:function(t,e){this._events[t]&&this._events[t].forEach(function(t){return t(e)})}}},SupportedEvents:i}},function(t,e){var i=["x","minX","maxX","minY","maxY","ranges","viewPointWidth","viewPointHeight","maxWidth","maxHeight","pointsCount"];t.exports={createView:function(t){var e={x:0,minX:0,maxX:0,minY:0,maxY:0,viewPointWidth:270,viewPointHeight:270,pixelForXtick:0,pixelForYtick:0,startAtX:0,endAtX:0,maxWidth:0,maxHeight:0,pointsCount:0,scale:0,set:function(t){var e=this,n=Object.keys(t),o=n.filter(function(t){return-1==i.indexOf(t)});if(0<o.length)throw new Error("View props has invalide parameters: ".concat(o.join(", ")));n.forEach(function(i){isNaN(t[i]),e[i]=t[i]}),this.recalc()},recalc:function(){var t=this,e=this.viewPointWidth/this.maxWidth;isNaN(e);var i=this.maxX-this.minX;if(isNaN(i),!Number.isNaN(e)&&Number.isFinite(e)){this.viewPointWidth=Math.max(50,this.viewPointWidth),isNaN(this.viewPointWidth),this.x=Math.max(this.x,this.x-this.viewPointWidth),this.maxWidth<this.x+this.viewPointWidth&&(this.x=this.maxWidth-this.viewPointWidth),this.x=Math.max(0,this.x),this.maxWidth<this.x+this.viewPointWidth&&(this.viewPointWidth=this.maxWidth);var n=function(e){var n=e/t.maxWidth,o=t.minX+n*i;return isNaN(o),o};this.startAtX=n(this.x),this.endAtX=n(this.x+this.viewPointWidth);var o=this.endAtX-this.startAtX;this.pixelForXtick=o/this.maxWidth,this.pixelForYtick=this.maxY/this.viewPointHeight,this.scale=(this.maxX-this.minX)/o,isNaN(this.scale)&&(this.scale=1)}}};return t&&e.set(t),e},minViewportWidth:50}},function(t,e,i){function n(t){return function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var o=i(5).monthNames;t.exports={prepare:function(t){t.x=t.charts.filter(function(t){return"x"==t.key})[0],t.y=t.charts.filter(function(t){return"x"!=t.key}),t.minX=Math.min.apply(Math,n(t.x.points)),t.maxX=Math.max.apply(Math,n(t.x.points));var e=[];t.y.map(function(t){return t.points}).forEach(function(t){return e=e.concat(t)}),t.minY=Math.min.apply(Math,n(e)),t.maxY=Math.max.apply(Math,n(e)),t.isReady=!0},getXDateNames:function(t,e){var i=t.minX,n=t.maxX,a=t.startAtX,h=t.endAtX;if(i==n&&0==i)return["-"];for(var s=(h-a)/e,r=[],c=0;c<e;c++)r.push(c);return r.map(function(t){var e=new Date(a+t*s);return"".concat(o[e.getMonth()]," ").concat(e.getDate())})},getYValues:function(t,e){for(var i=t.maxY,n=e+1,o=[],a=0;a<n;a++)o.push(parseInt(a*(i/n)));return o},drawToView:function(t,e){var i=t.Dataset.charts,n=t.Context2D,o=e.viewPointHeight,a=e.pixelForXtick,h=e.pixelForYtick,s=e.startAtX,r=e.endAtX;n.lineWidth=t.chartSettings.layout.chart.lineWidth;var c=!0;return i.forEach(function(t){if(t.isReady){var e=t.x.points;t.y.forEach(function(t){n.strokeStyle=t.color;var i=!0;t.calcedPoints=[],n.beginPath(),n.moveTo(0,o);for(var c,l=0;l<e.length&&(c={x:e[l],y:t.points[l]},!(e.length<l+1&&e[l+1].x>r));l++){var d={x:(c.x-s)/a,y:Math.max(0,o-c.y/h)};i&&(t.fromIndex=l,n.lineTo(d.x,o),i=!1);var u=d.x;t.calcedPoints.push({x:u,y:d.y}),n.lineTo(u,d.y)}n.stroke(),n.moveTo(0,0)})}else c=!1}),c},getNearestPoints:function(t,e){var i=t.Dataset.charts,n=[];i.forEach(function(t){t.isReady&&t.y.forEach(function(i){var o={line:i,fromIndex:i.fromIndex,points:[]},a=i.calcedPoints;if(a&&0<a.length)for(var h,s=0;s<a.length;s++)(h=Math.abs(e.x-a[s].x))<75&&o.points.push({point:a[s],distance:h,xValue:t.x.points[s]});n.push(o)})});var o=null;if(n){if(1<n.length)for(var a,h=0;h<n.length;h++)a=n[h].points.sort(function(t,e){return t.distance-e.distance})[0],o?a.distance<o.distance&&(o=a):o=a;else 0<n.length&&(o=n[0]);var s=[];return o&&i.forEach(function(t){if(t.isReady){var e=t.x.points.indexOf(o.xValue);0<=e&&s.push({chart:t,index:e})}}),s}return o}}},function(t,e){t.exports={monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sepr","Octr","Nov","Dec"],daysNames:["Sun","Mon","Tues","Wed","Thurs","Fri","Sat"]}},function(t,e){var i={backgroundColor:"#fff",chartLineColor:"#ccd7dd",chartFontColor:"#AAA296",tooltipBackgroundColor:"#fff",tooltipHeaderColor:"#222222",legendColor:"#222222",shadowColor:"#dadfe5",minimapFocusAreaColor:"#fff"};t.exports={settings:function(){return{layout:{sidePadding:36,contentPadding:25,chart:{bottomContentPadding:20,bottomContentVerticalPadding:12,leftLegendVerticalPadding:18,lineWidth:3,pointRadius:10},minimap:{verticalContentPadding:10,viewPortHeight:4,viewPortWidth:12},tooltip:{sidePadding:35,verticalPadding:10,xyPadding:25,xPadding:55,verticalPaddingBetweenContent:16,horizontalPaddingBetweenContent:10}},styles:i,fonts:{legendFontAddon:"bold",legendFontSize:40,legendFont:"Arial",xLineFontSize:30,xLineFont:"Arial",tooltipHeader:40,tooltipHeaderFont:"Arial",tooltipValueSize:40,tooltipValueFont:"Arial",tooltipValueFontAddon:"bold",tooltipLineNameSize:35,tooltipLineNameFont:"Arial"}}},dayTheme:i,nightTheme:{backgroundColor:"#242f3e",chartLineColor:"#293544",chartFontColor:"#546778",tooltipBackgroundColor:"#253241",tooltipHeaderColor:"#fff",legendColor:"#fff",shadowColor:"#1b2530",minimapFocusAreaColor:"#1b2530"}}},function(t,e,i){"use strict";i.r(e);i(8);var n=i(9),o=i(6),a=o.dayTheme,h=o.nightTheme;"undefined"!=typeof window&&(window.Chart=n.default,window.ChartThemes={dayTheme:a,nightTheme:h})},function(t,e){if("function"!=typeof window.Symbol){var i=function(t){this.value=t.toString().toLowerCase()};i.prototype.toString=function(){return this.valueOf()},i.prototype.valueOf=function(){return this.value},window.Symbol=function(t){return new i(t)}}var n,o,a,h;"function"!=typeof Object.assign&&(Object.assign=function(t,e){return[t,e].reduce(function(t,e){return Object.keys(e).forEach(function(i){t[i]=e[i]}),t},{})}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),i=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var n=arguments[1],o=0;o<i;){var a=e[o];if(t.call(n,a,o,e))return o;o++}return-1}}),"function"!=typeof Number.isNaN&&(Number.isNaN=function(t){return isNaN(t)}),"function"!=typeof Number.isFinite&&(Number.isFinite=function(t){return isFinite(t)}),void 0===Number.MAX_SAFE_INTEGER&&(Number.MAX_SAFE_INTEGER=Number.MAX_VALUE),Array.from||(Array.from=(n=Object.prototype.toString,o=function(t){return"function"==typeof t||"[object Function]"===n.call(t)},a=Math.pow(2,53)-1,h=function(t){var e=function(t){var e=+t;return isNaN(e)?0:0!=e&&isFinite(e)?(0<e?1:-1)*Math.floor(Math.abs(e)):e}(t);return Math.min(Math.max(e,0),a)},function(t){var e=Object(t);if(null==t)throw new TypeError("Array.from requires an array-like object - not null or undefined");var i,n=1<arguments.length?arguments[1]:void 0;if(void 0!==n){if(!o(n))throw new TypeError("Array.from: when provided, the second argument must be a function");2<arguments.length&&(i=arguments[2])}for(var a,s=h(e.length),r=o(this)?Object(new this(s)):Array(s),c=0;c<s;)a=e[c],r[c]=n?void 0===i?n(a,c):n.call(i,a,c):a,c+=1;return r.length=s,r}))},function(t,e,i){"use strict";function n(t,e){for(var i,n=0;n<e.length;n++)(i=e[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}i.r(e),i.d(e,"default",function(){return y});var o=i(10),a=i(11),h=i(12),s=i(1).ZonesPosition,r=i(3).createView,c=i(13),l=i(14),d=i(16),u=i(0),f=u.clipArea,g=u.fillFullArea,m=i(18).BindGlobalEvent,p=i(2),v=p.eventsFactory,x=p.SupportedEvents,w=i(19).clone,y=function(){function t(e,n){var o=this;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e)throw new Error("Chart must be created with canvas element!");this._resetData(),this._inDigest=!1,this._canvas=e,this._2dContext=e.getContext("2d",{alpha:!1}),this._events=v(),this._updateSizes(),this._lastCanvasSize=w(this._canvasSize),this.chartSettings=i(6).settings(),n&&(this.chartSettings=Object.assign(this.chartSettings,n),n.theme&&this.setTheme(n.theme,!0)),Object.defineProperty(this,"Dataset",{get:function(){return o._dataset}}),Object.defineProperty(this,"Context2D",{get:function(){return o._2dContext}}),Object.defineProperty(this,"View",{get:function(){return o._view}}),Object.defineProperty(this,"Tooltip",{get:function(){return o._tooltip}}),Object.defineProperty(this,"Events",{get:function(){return o._events}}),this._tooltip=h(this),this._chartZone=d(this,{position:s.MIDDLE}),this._zones=[c(this,{position:s.TOP,text:"Followers"}),this._chartZone,l(this,{position:s.BOTTOM,mapHeight:115,padding:this.chartSettings.layout.contentPadding})],this._setupStandartEvents(),this.invalidateLifeCycle()}return e=t,(u=[{key:"load",value:function(t){var e=this,i=Array.isArray(t)?t.slice(0):w(t);this._resetData();var n=function(t){var i={charts:[]};t.columns.forEach(function(n){var o=n[0],a={key:o,name:t.names[o]||null,color:t.colors[o],points:n.slice(1),drawType:t.types[o]};e._dataset.data.push(a),i.charts.push(a)}),e._dataset.charts.push(i)};Array.isArray(i)?i.forEach(function(t){return n(t)}):n(i),g(this._2dContext,this.chartSettings.styles.backgroundColor,this._canvasSize.width,this._canvasSize.height),this._redrawAll()}},{key:"invalidateLifeCycle",value:function(){if(!this._inDigest){var t=0<this._animations.length,e=-1!==this._zones.findIndex(function(t){return t.isDirty});t||e?(this._inDigest=!0,requestAnimationFrame(this._drawZones.bind(this),1e3/60)):this._inDigest=!1}}},{key:"setTheme",value:function(t,e){this.chartSettings.styles=t,e||this._redrawAll()}},{key:"_setupStandartEvents",value:function(){var t=this;m("resize",function(){t._updateSizes(),t._lastCanvasSize&&(t._lastCanvasSize.width!=t._canvasSize.width||t._lastCanvasSize.height!=t._canvasSize.height)&&(t._lastCanvasSize=w(t._canvasSize),t._chartZone.isReady=!1,t._redrawAll())}),this.mousePressed=!1,m(["mousemove","touchmove"],function(e){t.mousemove=e,t._events.fire(x.MouseMove,e)}),m(["mousedown","touchstart"],function(e){t.mousePressed=!0,t._events.fire(x.MousePress,e)}),m(["mouseup","touchend"],function(e){t.mousePressed=!1,t._events.fire(x.MouseUp,e)})}},{key:"_updateSizes",value:function(){this._canvasSize={width:this._canvas.clientWidth,height:this._canvas.clientHeight},(!this._lastCanvasSize||this._lastCanvasSize&&(this._lastCanvasSize.width!=this._canvasSize.width||this._lastCanvasSize.height!=this._canvasSize.height))&&(this._canvas.width=this._canvasSize.width,this._canvas.height=this._canvasSize.height)}},{key:"_resetData",value:function(){this._animations=o(),this._dataset=a(),this._view=r()}},{key:"_drawZones",value:function(){var t=this,e={top:0,bottom:0},i=function(i){var n=t._zones.filter(function(t){return t.position==i});if(i==s.MIDDLE&&1<n.length)throw new Error("Can't have multiple middle zones!");n.forEach(function(n){var o={left:0,top:0,right:t._canvasSize.width,bottom:n.height};if(i===s.TOP?o.top=e.top:i===s.MIDDLE?(o.top=e.top,o.bottom=n.height):i===s.BOTTOM&&(o.top=t._canvasSize.height-n.height-e.bottom),n.isDirty){if(n.setGlobalZonePos(o),f(t._2dContext,o),i!=s.MIDDLE){var a=Math.max(0,o.bottom-o.top);n.setSize({width:t._canvasSize.width,height:a})}n.draw()}t._2dContext.restore(),i===s.TOP?e.top+=n.height:i===s.BOTTOM&&(e.bottom+=n.height)})};i(s.TOP),i(s.BOTTOM),this._chartZone.setSize({width:this._canvasSize.width,height:this._canvasSize.height-e.bottom-e.top}),i(s.MIDDLE),this._inDigest=!1,this.invalidateLifeCycle()}},{key:"_redrawAll",value:function(){this._zones&&(this._zones.forEach(function(t){return t.isDirty=!0}),this.invalidateLifeCycle())}}])&&n(e.prototype,u),p&&n(e,p),t;var e,u,p}()},function(t,e){t.exports=function(){var t={animations:[],awaitFrame:function(){return t.animations&&0<t.animations.length},addAnimation:function(e,i){i.owner=e,i.startTime=Date.now(),i.isPlaying=!1,i._onEnd=function(){return t.animations=t.animations.filter(function(t){return t!=i})},t.animations.push(i)},cancelAnimations:function(e){t.animations=t.animations.filter(function(t){return t.owner==e})}};return t}},function(t,e){t.exports=function(){return{charts:[],data:[]}}},function(t,e,i){var n=i(0);t.exports=function(t){return{ctx:t.Context2D,draw:function(e){this.ctx.lineWidth=1,this.ctx.fillStyle=t.chartSettings.styles.tooltipBackgroundColor,this.ctx.strokeStyle=t.chartSettings.styles.chartLineColor,this.ctx.shadowColor=t.chartSettings.styles.shadowColor,this.ctx.shadowBlur=15,n.roundRect(this.ctx,e.pos.x,e.pos.y,e.size.width,e.size.height,15,!0),n.disableShadow(this.ctx)}}}},function(t,e,i){var n=i(1),o=i(0),a=o.textMetrics,h=o.fillFullArea;t.exports=function(t,e){var i=new n.chartZone("legend",function(){h(this.ctx,t.chartSettings.styles.backgroundColor,this.width,this.height),this.ctx.fillStyle=t.chartSettings.styles.legendColor,this.ctx.fillText(this.text,t.chartSettings.layout.sidePadding+10,2*t.chartSettings.layout.contentPadding),this.isDirty=!1},e);return i._prepare=function(){this.ctx||(this.ctx=t.Context2D),t.chartSettings.legend&&(this.text=t.chartSettings.legend),this.fontSize=t.chartSettings.fonts.legendFontSize,this.ctx.font="".concat(t.chartSettings.fonts.legendFontAddon," ").concat(this.fontSize,"px ").concat(t.chartSettings.fonts.legendFont);var e=a(this.ctx,this.text);this.height=2*t.chartSettings.layout.contentPadding+e.height},i.canChangeHeight=!1,i._prepare(),i}},function(t,e,i){var n=i(1),o=i(4),a=i(3),h=a.createView,s=a.minViewportWidth,r=i(2).SupportedEvents,c=i(0),l=c.fillFullArea,d=c.clipArea,u=c.resetClip,f=c.getMousePos,g=i(15),m=g.Cursors,p=g.setCursor,v=Object.freeze({None:Symbol("none"),Left:Symbol("left"),Right:Symbol("right"),Center:Symbol("center")});t.exports=function(t,e){var i=new n.chartZone("minimap",function(){l(this.ctx,t.chartSettings.styles.backgroundColor,this.width,this.height),this.ctx.fillStyle=t.chartSettings.styles.minimapFocusAreaColor,this._cache.contentRect={left:this.padding,top:this.padding,right:t._canvasSize.width-this.padding,bottom:this.mapHeight},d(this.ctx,this._cache.contentRect),this.ctx.fillRect(0,0,this.width,this.height),u(this.ctx),this._cache.minimapChartWidth=this.width-this.padding,this._cache.minimapChartHeight=this._cache.contentRect.bottom-t.chartSettings.layout.minimap.verticalContentPadding,d(this.ctx,{left:this._cache.contentRect.left,top:this._cache.contentRect.top+t.chartSettings.layout.minimap.verticalContentPadding,right:this._cache.contentRect.right,bottom:this._cache.minimapChartHeight}),this._cache.pixelToMinimapPixel=this._cache.minimapChartWidth/this.width,this._drawChart(),this._makeInvisibleContentDarker(),this._drawViewControl(),this._updateViewInput()},e);return i._idle=function(){this._updateViewInput()},i._mergeView=function(e){this.view.set({minX:t.View.minX,maxX:t.View.maxX,maxY:t.View.maxY,maxWidth:e.width,viewPointWidth:this.view.maxWidth,viewPointHeight:e.height})},i._drawChart=function(){this._mergeView({width:this._cache.contentRect.right-this._cache.contentRect.left,height:this._cache.minimapChartHeight}),o.drawToView(t,this.view)&&(this.isDirty=!1),u(this.ctx)},i._drawViewControl=function(){this.ctx.fillStyle=t.chartSettings.styles.chartFontColor,this.ctx.globalAlpha=.5;var e=this.padding-t.chartSettings.layout.minimap.viewPortWidth-1,i=this._cache.contentRect.top-t.chartSettings.layout.minimap.viewPortHeight,n=Math.floor(t.View.viewPointWidth*this._cache.pixelToMinimapPixel),o=t.View.x*this._cache.pixelToMinimapPixel;this.ctx.fillRect(e+o,i,n,t.chartSettings.layout.minimap.viewPortHeight),this._cache.viewInputRects.left={x:e+o,y:i+t.chartSettings.layout.minimap.viewPortHeight,width:t.chartSettings.layout.minimap.viewPortWidth,height:this._cache.contentRect.bottom},this.ctx.fillRect(this._cache.viewInputRects.left.x,this._cache.viewInputRects.left.y,this._cache.viewInputRects.left.width,this._cache.viewInputRects.left.height),this.ctx.fillRect(e+o,this.padding+this._cache.contentRect.bottom,n,t.chartSettings.layout.minimap.viewPortHeight),this._cache.viewInputRects.right={x:o+n,y:i+t.chartSettings.layout.minimap.viewPortHeight,width:t.chartSettings.layout.minimap.viewPortWidth,height:this._cache.contentRect.bottom},this.ctx.fillRect(this._cache.viewInputRects.right.x,this._cache.viewInputRects.right.y,this._cache.viewInputRects.right.width,this._cache.viewInputRects.right.height),this.ctx.globalAlpha=1},i._makeInvisibleContentDarker=function(){d(this.ctx,this._cache.contentRect);var e=0<t.View.x,i=t.View.x+t.View.viewPointWidth<t.View.maxWidth,n=Math.floor(t.View.viewPointWidth*this._cache.pixelToMinimapPixel);if(e||i){this.ctx.fillStyle=t.chartSettings.styles.shadowColor,this.ctx.globalAlpha=.5;var o=t.View.x*this._cache.pixelToMinimapPixel,a=t.chartSettings.layout.minimap.viewPortWidth;e&&this.ctx.fillRect(0,0,o-a,this.height),i&&this.ctx.fillRect(o+n+t.chartSettings.layout.minimap.viewPortWidth-this._cache.contentRect.left,0,t.View.maxWidth-t.View.viewPointWidth-t.View.x-a,this.height),this.ctx.globalAlpha=1}u(this.ctx)},i._updateViewInput=function(){if(this._cache.mouseHolded){var e=!1;if(this._cache.sideHolded==v.Left){var i=this._cache.lastResizeFrom.x-this._cache.resizeFrom.x;if(0!=i){if(0==t.View.x&&0<i)return;if(t.View.viewPointWidth+i<s)return;t.View.set({x:t.View.x-i,viewPointWidth:t.View.viewPointWidth+i}),this._cache.lastResizeFrom=this._cache.resizeFrom,e=!0}}else if(this._cache.sideHolded==v.Right){var n=this._cache.lastResizeFrom.x-this._cache.resizeFrom.x;if(0!=n){if(t.View.viewPointWidth-n+t.View.x>t.View.maxWidth)return;t.View.set({viewPointWidth:t.View.viewPointWidth-n}),this._cache.lastResizeFrom=this._cache.resizeFrom,e=!0}}else if(this._cache.sideHolded==v.Center){var o=this._cache.lastResizeFrom.x-this._cache.resizeFrom.x;0!=o&&(t.View.set({x:t.View.x-o}),this._cache.lastResizeFrom=this._cache.resizeFrom,e=!0)}e&&(this.isDirty=!0,t._chartZone.isDirty=!0,t.invalidateLifeCycle())}},i._clearCursor=function(){this._cache.sideHolded!=v.None&&(this._cache.sideHolded=v.None,p(t.Context2D.canvas,m.Default))},i._prepare=function(){var e=this;if(this.ctx||(this.ctx=t.Context2D),this.view||(this.view=h()),this._cache={sideHolded:v.None,mouseHolded:!1,pixelToMinimapPixel:1,minimapChartHeight:1,contentRect:null,viewInputRects:{left:null,right:null}},this.height=this.mapHeight+2*this.padding,!this._cache.subscribedOnEvents){this._cache.subscribedOnEvents=!0;var i=function(i){var n=f(t.Context2D.canvas,i,e.rectZone);if(e._cache.resizeFrom=n,!e._cache.mouseHolded&&0<n.x&&n.x<e.width&&0<n.y&&n.y<e.height){var o=function(t,e){var i=t.x>=e.x&&t.x<=e.x+e.width,n=t.y>=e.y&&t.y<=t.y+e.height;return i&&n},a=!1;if(e._cache.viewInputRects.left&&o(n,e._cache.viewInputRects.left)&&(p(t.Context2D.canvas,m.WResize),e._cache.sideHolded=v.Left,a=!0),e._cache.viewInputRects.right&&o(n,e._cache.viewInputRects.right)&&!a&&(p(t.Context2D.canvas,m.WResize),e._cache.sideHolded=v.Right,a=!0),!a){var h={x:e._cache.viewInputRects.left.x+e._cache.viewInputRects.left.width,y:e._cache.viewInputRects.left.y,width:e._cache.viewInputRects.right.x-e._cache.viewInputRects.left.x,height:e._cache.viewInputRects.left.height};e._cache.viewInputRects.right&&o(n,h)&&(e._cache.sideHolded=v.Center,p(t.Context2D.canvas,m.Pointer),a=!0)}a||e._clearCursor()}};t.Events.on(r.MouseMove,function(t){e._idle(),i(t)}),t.Events.on(r.MousePress,function(n){var o="touchstart"==n.type;o&&(e._idle(),i(n)),(o||0==n.button)&&e._cache.sideHolded!=v.None&&(e._cache.mouseHolded=!0,e._cache.lastResizeFrom=f(t.Context2D.canvas,n,e.rectZone))}),t.Events.on(r.MouseUp,function(t){var n="touchend"==t.type;n&&(e._idle(),i(t)),(n||0==t.button)&&e._cache.mouseHolded&&(e._cache.mouseHolded=!1,e._clearCursor())})}},i.canChangeHeight=!1,i._prepare(),i}},function(t,e){var i=Object.freeze({Default:Symbol("default"),WResize:Symbol("w-resize"),HResize:Symbol("n-resize"),Pointer:Symbol("pointer")});t.exports={Cursors:i,setCursor:function(t,e){var n=function(t){switch(t){case i.Default:return"default";case i.HResize:return"n-resize";case i.WResize:return"w-resize";case i.Pointer:return"pointer";default:throw new Error("not implemented type ".concat(t))}}(e);n!=t.style.cursor&&(t.style.cursor=n)}}},function(t,e,i){var n=i(1),o=i(4),a=i(2).SupportedEvents,h=i(17).drawTooltipForLineChart,s=i(5),r=s.monthNames,c=s.daysNames,l=i(0),d=l.textMetrics,u=l.fillFullArea,f=l.getMousePos,g=l.hoverPoint;t.exports=function(t,e){var i=new n.chartZone("chart",function(){this._cache.chartImageData&&this.cursorInZone&&this.cursorWasRendered?this.ctx.putImageData(this._cache.chartImageData,0,this.rectZone.top):(this.ctx.font="".concat(t.chartSettings.fonts.xLineFontSize,"px ").concat(t.chartSettings.fonts.xLineFont),u(this.ctx,t.chartSettings.styles.backgroundColor,this.width,this.height),this.ctx.fillStyle=t.chartSettings.styles.chartFontColor,this.ctx.strokeStyle=t.chartSettings.styles.chartLineColor,this._prepareContent(),this._drawBottomLegend(),this._drawGrid(),this._drawContentData(),this._drawGridValues(),this._cache.chartImageData=this.ctx.getImageData(0,this.rectZone.top,this.width,this.height)),this.cursorWasRendered=!1,this.cursorInZone&&this._drawTooltip()},e);return i._prepareContent=function(){var e=t.Dataset.charts,i={pointsCount:0,minX:Number.MAX_SAFE_INTEGER,maxX:0,maxY:0};e.forEach(function(t){t.isReady||o.prepare(t),i.pointsCount=t.x.points.length,i.minX=Math.min(i.minX,t.minX),i.maxX=Math.max(i.maxX,t.maxX),i.maxY=Math.max(i.maxY,t.maxY)}),t.View.set(i),this._cache.grid.yNames=o.getYValues(t.View,this._cache.grid.allowedYLinesElements);var n=(this.width-2*t.chartSettings.layout.sidePadding)/168,a=Math.floor((this.width-2*t.chartSettings.layout.sidePadding)/168),h=(this.width-2*t.chartSettings.layout.sidePadding)/a;t.View.set({maxWidth:this.width,maxHeight:this.height,viewPointHeight:this._cache.chart.height});var s=o.getXDateNames(t.View,a);this._cache.bottomValues={minPerBottomElementWidth:168,allowedElements:a,calcedPerBottomElementWidth:h,xNames:s,allowElementOffset:Math.abs(a-n)}},i._drawBottomLegend=function(){this.ctx.lineWidth=t.chartSettings.layout.chart.lineWidth,this.ctx.beginPath(),this.ctx.moveTo(this._cache.bottomLine.startBottomLineFromX,this._cache.bottomLine.bottomLineY),this.ctx.lineTo(this._cache.bottomLine.endBottomLineToX,this._cache.bottomLine.bottomLineY),this.ctx.stroke(),this.ctx.moveTo(0,0);for(var e,i=this.height-2*t.chartSettings.layout.chart.bottomContentVerticalPadding,n=0;n<this._cache.bottomValues.allowedElements;n++)e=t.chartSettings.layout.chart.bottomContentPadding+this._cache.bottomValues.calcedPerBottomElementWidth*n,this.ctx.fillText(this._cache.bottomValues.xNames[n],e,i,this._cache.bottomValues.calcedPerBottomElementWidth)},i._drawGrid=function(){this.ctx.lineWidth=t.chartSettings.layout.chart.lineWidth;for(var e=0;e<=this._cache.grid.allowedYLinesElements;e++){var i=t.chartSettings.layout.sidePadding,n=this.width-t.chartSettings.layout.sidePadding,o=this.height-this._bottomLegendHeight-this._cache.grid.yLinesDistance*e;this.ctx.beginPath(),this.ctx.moveTo(i,o),this.ctx.lineTo(n,o),this.ctx.stroke(),this.ctx.moveTo(0,0)}},i._drawGridValues=function(){for(var e=0;e<=this._cache.grid.allowedYLinesElements;e++){var i=t.chartSettings.layout.sidePadding,n=this.height-this._bottomLegendHeight-this._cache.grid.yLinesDistance*e;this.ctx.fillText(this._cache.grid.yNames[e],i,n-t.chartSettings.layout.chart.leftLegendVerticalPadding)}},i._drawContentData=function(){o.drawToView(t,t.View)&&(this.isDirty=!1)},i._drawTooltip=function(){var e=this;if(t.mousemove){this.ctx.globalAlpha=1;var i=f(this.ctx.canvas,t.mousemove,this.rectZone),n=o.getNearestPoints(t,i);if(n&&0<n.length){this.cursorWasRendered=!0;var a=this.height-this._bottomLegendHeight,s=!1,l=function(i){e.ctx.strokeStyle=t.chartSettings.styles.chartLineColor,e.ctx.beginPath(),e.ctx.moveTo(i.x,a),e.ctx.lineTo(i.x,0),e.ctx.stroke()};this.ctx.fillStyle=t.chartSettings.styles.backgroundColor;var d=[],u=null;if(n.forEach(function(i){i.chart.y.forEach(function(n){var o=i.index+n.fromIndex;u||(u=i.chart.x.points[o]);var a=n.points[o],h=n.calcedPoints[i.index];d.push({yLine:n,value:a}),s||(s=!0,l(h)),e.ctx.strokeStyle!=n.color&&(e.ctx.strokeStyle=n.color),g(e.ctx,h.x,h.y,t.chartSettings.layout.chart.pointRadius,t.chartSettings.layout.chart.lineWidth)})}),0<d.length){var m=new Date(u),p=[];d.map(function(t){return p.push({val:t.value,name:t.yLine.name,color:t.yLine.color})}),h(this.ctx,t,i,{title:"".concat(c[m.getDay()],", ").concat(r[m.getMonth()]," ").concat(m.getDate()),yVals:d})}}}},i._prepare=function(){var e=this;this.ctx||(this.ctx=t.Context2D),this.ctx.font="".concat(t.chartSettings.fonts.xLineFontSize,"px ").concat(t.chartSettings.fonts.xLineFont),this._bottomLegendTextSize=d(this.ctx,"Jan 22"),this._bottomLegendHeight=this._bottomLegendTextSize.height+3*t.chartSettings.layout.chart.bottomContentVerticalPadding,this._contentHeight=this.height-this._bottomLegendHeight,this._cache={chartImageData:void 0,bottomImageData:void 0},this._cache.bottomLine={startBottomLineFromX:t.chartSettings.layout.sidePadding,endBottomLineToX:this.width-t.chartSettings.layout.sidePadding,bottomLineY:this.height-this._bottomLegendHeight};var i=150+t.chartSettings.layout.chart.lineWidth,n=Math.floor((this.height-this._bottomLegendHeight)/i);this._cache.grid={yLinesDistance:i,allowedYLinesElements:n,yNames:o.getYValues(t.View,n)},this._cache.chart={height:this.height-this._bottomLegendHeight},this._cache.subscribedOnEvents||(this._cache.subscribedOnEvents=!0,t.Events.on(a.MouseMove,function(i){if(e.rectZone){var n=f(t.Context2D.canvas,i,e.rectZone);n.x>e.rectZone.left&&n.y>e.rectZone.top&&n.x<e.rectZone.right&&n.y<e.rectZone.bottom?(e.isDirty=!0,e.cursorInZone=!0):(e.cursorWasRendered&&(e.isDirty=!0),e.cursorInZone=!1),e.isDirty&&t.invalidateLifeCycle()}}))},i._prepare(),i}},function(t,e,i){var n=i(0),o=n.textMetrics,a=n.clipArea;t.exports={drawTooltipForLineChart:function(t,e,i,n){var h=e.chartSettings,s=e.View,r=n.title||"",c=function(){return t.font="".concat(h.fonts.tooltipHeader,"px ").concat(h.fonts.tooltipHeaderFont)};c();var l=o(t,r);t.font="bold ".concat(h.fonts.tooltipValueSize,"px ").concat(h.fonts.tooltipValueFont);var d=[];(n.yVals||[]).forEach(function(e){var i="".concat(e.value),n=e.yLine.name;d.push({valString:i,valSize:o(t,i),nameString:n,nameSize:o(t,n),color:e.yLine.color})});for(var u=s.maxWidth/2,f=2*h.layout.tooltip.sidePadding,g=d.sort(function(t,e){return Math.max(e.valSize.width,e.nameSize.width)-Math.max(t.valSize.width,t.nameSize.width)})[0],m=Math.max(g.valSize.width,g.nameSize.width)+h.layout.tooltip.horizontalPaddingBetweenContent,p=d.length,v=m*p;v>u&&2<=p;)v=m*(p/=2);p=Math.ceil(p);var x=Math.ceil(d.length/p),w=d.sort(function(t,e){return Math.max(e.valSize.height,e.nameSize.height)-Math.max(t.valSize.height,t.nameSize.height)})[0],y=Math.max(w.valSize.height,w.nameSize.height),_=h.layout.tooltip.xyPadding+2*y+h.layout.tooltip.verticalPadding,S=y+h.layout.tooltip.verticalPadding,b=l.width>v,P={width:f+Math.max(l.width,v),height:_*x+l.height+h.layout.tooltip.verticalPadding+h.fonts.tooltipHeader+10},C=i.x+40,z={x:Math.max(C,5),y:i.y};C+P.width>s.maxWidth&&(z.x=i.x-40-P.width-5),i.y<5&&(z.y=5),i.y+P.height>s.maxHeight&&(z.y=s.maxHeight-P.height-5),e.Tooltip.draw({pos:z,size:P}),a(t,{left:z.x,top:z.y,right:z.x+P.width,bottom:P.height}),c(),t.fillStyle=h.styles.tooltipHeaderColor;var M=h.layout.tooltip.verticalPadding+h.fonts.tooltipHeader;if(t.fillText(r,h.layout.tooltip.sidePadding,M,P.width),0<d.length)for(var T=l.width/p,R=0;R<x;R++)for(var E=0;E<p;E++){var V=d[E+p*R];t.fillStyle=V.color,t.font="".concat(h.fonts.tooltipValueFontAddon," ").concat(h.fonts.tooltipValueSize,"px ").concat(h.fonts.tooltipValueFont);var W=b?h.layout.tooltip.sidePadding+T*E:h.layout.tooltip.sidePadding+E*m,A=M+_*(R+1)-S;t.fillText(V.valString,W,A,m),t.font="".concat(h.fonts.tooltipLineNameSize,"px ").concat(h.fonts.tooltipLineNameFont),t.fillText(V.nameString,W,A+S,m)}}}},function(t,e){t.exports={BindGlobalEvent:function(t,e){var i=function(t){window.attachEvent?window.attachEvent("on".concat(t),function(t){e(t)}):window.addEventListener&&window.addEventListener(t,function(t){e(t)},!1)};Array.isArray(t)?t.forEach(function(t){return i(t)}):i(t)}}},function(t,e){t.exports={clone:function(t){return Object.assign?Object.assign({},t):JSON.parse(JSON.stringify(t))}}}]);